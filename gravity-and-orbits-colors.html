<!DOCTYPE HTML>
<!-- Top-level HTML file for modifying gravity-and-orbits colors colors, generated by 'grunt generate-development-colors-html' -->
<html>
<head>
  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <meta name="viewport" content="initial-scale=1,user-scalable=no,maximum-scale=1"/>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="phet-sim-level" content="production">

  <title>gravity-and-orbits colors</title>

  <style>
    body {
      font-family: Arial, Helvetica, sans-serif
    }
  </style>
</head>
<body bgcolor="#888">
<iframe width="768" height="504" id="sim-iframe" style="position: absolute; top: 20; left: 300px;"></iframe>
<script type="text/javascript">
  var suffix = window.location.search || '?brand=phet';
  document.getElementById( 'sim-iframe' ).setAttribute( 'src', 'gravity-and-orbits_en.html' + suffix );

  // Maps color keys {string} => input elements {HTMLInputElement}
  var colorInputMap = {};

  window.addEventListener( 'message', function( evt ) {
    var data = JSON.parse( evt.data );
    if ( data.type === 'reportColor' ) {
      var name = data.name;
      var value = data.value;

      // Lazily create color inputs, so we don't need an up-front sim-specific list
      var input = colorInputMap[ name ];
      if ( !input ) {
        input = colorInputMap[ name ] = document.createElement( 'input' );
        input.type = 'color';

        // Send user changes to the sim
        input.addEventListener( 'input', function( evt ) {
          document.getElementById( 'sim-iframe' ).contentWindow.postMessage( JSON.stringify( {
            type: 'setColor',
            name: name,
            value: input.value
          } ), '*' );
        } );

        document.body.appendChild( document.createElement( 'br' ) );
        document.body.appendChild( input );
        document.body.appendChild( document.createTextNode( ' ' + name ) );
      }

      input.value = value;
    }
  } );
</script>
</body>
</html>
